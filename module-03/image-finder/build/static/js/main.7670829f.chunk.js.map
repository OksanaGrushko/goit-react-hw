{"version":3,"sources":["components/Layout/Layout.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Button/Button.js","services/pixabayApi.js","components/App.js","index.js"],"names":["Layout","children","className","Searchbar","state","inputValue","handlerChange","e","setState","target","value","handlerSubmit","preventDefault","props","onSubmit","this","type","onChange","Component","ImageGalleryItem","webformatURL","tags","onImgClick","largeImageURL","src","alt","onClick","data-large_img_url","ImageGallery","images","map","id","App","color","height","width","timeout","Modal","handlKeyDown","code","onClose","window","addEventListener","removeEventListener","selectImgUrl","searchImgUrl","Button","onScroll","baseURL","apiKey","perPage","getItems","query","page","fetch","then","response","json","data","hits","loading","error","fetchImage","pixabayApi","prevState","catch","finally","handlerSearchFormSubmit","onGalleryImageClick","dataset","large_img_url","closeModal","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","message","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7670829f.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Layout = ({ children }) => <div className=\"Layout\">{children}</div>;\nexport default Layout;\n\nLayout.propTypes = {\n  children: PropTypes.array,\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class Searchbar extends Component {\n  state = {\n    inputValue: \"\",\n  };\n\n  handlerChange = (e) => {\n    this.setState({ inputValue: e.target.value });\n  };\n\n  handlerSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: \"\" });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handlerSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={this.state.inputValue}\n            onChange={this.handlerChange}\n            // autocomplete=\"off\"\n            // autofocus\n            // placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  value: PropTypes.string,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGalleryItem({\n  webformatURL,\n  tags,\n  onImgClick,\n  largeImageURL,\n}) {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={onImgClick}\n        data-large_img_url={largeImageURL}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string,\n  onImgClick: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGallery({ images, onImgClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={webformatURL}\n          webformatURL={webformatURL}\n          tags={tags}\n          largeImageURL={largeImageURL}\n          onImgClick={onImgClick}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string,\n      largeImageURL: PropTypes.string.isRequired,\n    })\n  ),\n  onImgClick: PropTypes.func,\n};\n","import Loader from \"react-loader-spinner\";\nimport React, { Component } from \"react\";\n\nexport default class App extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"Circles\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000} //3 secs\n      />\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handlKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handlKeyDown);\n  }\n  handlKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return (\n      <div className=\"Overlay\">\n        <div className=\"Modal\">\n          <img src={this.props.selectImgUrl} alt={this.props.searchImgUrl} />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  src: PropTypes.string,\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class Button extends Component {\n  componentDidMount() {\n    this.props.onScroll();\n  }\n\n  render() {\n    return (\n      <button className=\"Button\" type=\"button\" onClick={this.props.onClick}>\n        Load more\n      </button>\n    );\n  }\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  onScroll: PropTypes.func.isRequired,\n};\n","// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  baseURL: \"https://pixabay.com/api/\",\n  apiKey: \"18172537-3926a404f6aac535e082de079\",\n  perPage: 12,\n\n  getItems(query, page) {\n    return fetch(\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${this.apiKey}&image_type=photo&orientation=horizontal&per_page=${this.perPage}`\n    )\n      .then((response) => response.json())\n      .then((data) => data.hits);\n  },\n};\n","import React, { Component } from \"react\";\r\nimport Layout from \"./Layout/Layout\";\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\r\nimport Loader from \"./Loader/Loader\";\r\nimport Modal from \"./Modal/Modal\";\r\nimport Button from \"./Button/Button\";\r\n\r\nimport pixabayApi from \"../services/pixabayApi\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    images: [],\r\n    page: 1,\r\n    loading: false,\r\n    searchImgUrl: \"\",\r\n    error: null,\r\n    selectImgUrl: null,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchImgUrl;\r\n    const nextQuery = this.state.searchImgUrl;\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchImage();\r\n    }\r\n  }\r\n\r\n  fetchImage = () => {\r\n    const { searchImgUrl, page } = this.state;\r\n    this.setState({ loading: true });\r\n    pixabayApi\r\n      .getItems(searchImgUrl, page)\r\n      .then((images) =>\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...images],\r\n          page: prevState.page + 1,\r\n        }))\r\n      )\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handlerSearchFormSubmit = (query) => {\r\n    this.setState({ searchImgUrl: query, page: 1, images: [] });\r\n  };\r\n\r\n  onGalleryImageClick = (e) => {\r\n    this.setState({ selectImgUrl: e.target.dataset.large_img_url });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ selectImgUrl: null });\r\n  };\r\n\r\n  onScroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { error, loading, images, selectImgUrl } = this.state;\r\n    return (\r\n      <Layout>\r\n        <Searchbar onSubmit={this.handlerSearchFormSubmit} />\r\n        <div>\r\n          {error && <p>Whoops, something went wrong: ${error.message}</p>}\r\n          {images.length > 0 && (\r\n            <ImageGallery\r\n              images={images}\r\n              onImgClick={this.onGalleryImageClick}\r\n            />\r\n          )}\r\n          {loading && <Loader />}\r\n          {images.length > 0 && !loading && (\r\n            <Button\r\n              type=\"button\"\r\n              onClick={this.fetchImage}\r\n              onScroll={this.onScroll}\r\n            />\r\n          )}\r\n        </div>\r\n        <div>\r\n          {selectImgUrl && (\r\n            <Modal selectImgUrl={selectImgUrl} onClose={this.closeModal} />\r\n          )}\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"./base.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}